<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <script src="https://cdn.jsdelivr.net/npm/xterm@4.18.0/lib/xterm.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/xterm@4.18.0/css/xterm.css">
    <script src="https://cdn.jsdelivr.net/npm/xterm-addon-fit@0.5.0/lib/xterm-addon-fit.min.js"></script>
    <title></title>
</head>
<body style="background-color: black">
    <div id="terminal" style="height: 100%; width: 100%"></div>
    <script type="module">
        (function (e, d, w) {
            if (!e.composedPath) {
                e.composedPath = function () {
                    if (this.path) {
                        return this.path;
                    }
                    var target = this.target;

                    this.path = [];
                    while (target.parentNode !== null) {
                        this.path.push(target);
                        target = target.parentNode;
                    }
                    this.path.push(d, w);
                    return this.path;
                }
            }
        })(Event.prototype, document, window);
        const terminal = new Terminal();
        const fitAddon = new FitAddon.FitAddon();
        document.fitAddon = fitAddon;
        document.terminal = terminal
        terminal.loadAddon(fitAddon);
        terminal.open(document.getElementById('terminal'));
        terminal.write('Hello from \x1B[1;3;31mxterm.js\x1B[0m $ ')
        document.fitAddon.fit();
        onresize = () => {
            console.log('resize term no doc')
            document.fitAddon.fit()
        }
        document.onresize = () => {
            console.log('resize term')
            document.fitAddon.fit()
        }
    </script>
</body>
</html>